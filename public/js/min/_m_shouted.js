/*! live-0.0.0.js 2016-06-03 */
function Content_Over (a) { iInfo.Power > 999 && $(a).attr('readonly', !1) } function Content_Out (a) { $(a).attr('readonly', !0) } function Refresh_Shouted_Content_Click () { if (iInfo.Power > 999) { var a = {}; a.PostUID = iInfo.UserID, a.PostUname = escape(iInfo.UserNickName), a.Content = escape($('#Shouted_Content').val()), a.Time = GetNewTime(0), Refresh_Shouted_Content(a) } else { if (!CheckPowerKeys(iInfo.RoomRolePowerKeys, '496f5b5e03e89fcf242e1236f8e69e30')) return void iTip('您没有发布喊单的权限！'); var a = {}; a.PostUID = iInfo.UserID, a.PostUname = escape(iInfo.UserNickName), a.Content = escape($('#Shouted_Content').val()), a.Time = GetNewTime(0), Refresh_Shouted_Content(a) } } function Del_Shouted_Content_Click () { (iInfo.Power > 999 || CheckPowerKeys(iInfo.RoomRolePowerKeys, '496f5b5e03e89fcf242e1236f8e69e30')) && $.get('/handle/SetShouted.asp', {ac: 'DelShouted', id: $('#Shouted_ID').val(), rid: iRoomID, t: GetSendTime()}, function () { if (DelShouted_Re == 1) { var a = {}; a.Type = 'CMD_Shouted_Update', a.ReceiveRID = iInfo.Live_NG_ID, PostMsg(a) } else iTip(DelShouted_Re) }, 'script') } function Refresh_Shouted_Content (a) { var b = {}; b.Type = 'CMD_Shouted_Update', b.ReceiveRID = iInfo.Live_NG_ID, PostMsg(b), $.get('/handle/SetShouted.asp', {ac: 'SetShouted', content: a.Content, rid: iRoomID, t: GetSendTime()}, function () {}, 'script') } function AjaxSetShouted () { _Config.ShoutedIndex = 1, $.get('/handle/GetShouted.asp', {ac: 'GetShouted', index: 1, rid: iRoomID, t: GetSendTime()}, function () { Shouted != 0 && (Shouted.Content = unescape(Shouted.Content), SetShouted(Shouted)) }, 'script') } function SetShouted (a) { $('#Shouted_Content .ShoutedInfo').html(unescape(a.Info)), $('#Shouted_Content .ShoutedContent').html(unescape(a.Content)), $('#Shouted_ID').val(a.ID), $('#Shouted_Time').text(a.Time), $('#Shouted_Person').text(unescape(a.PostUname)), $('#Shouted_Person').attr({href: '/profile/?' + a.PostUID, title: unescape(a.PostUname)}) } function Shouted_Pre () { return _Config.ShoutedIndex <= 1 ? void (_Config.ShoutedIndex = 1) : void $.get('/handle/GetShouted.asp', {ac: 'GetShouted', index: _Config.ShoutedIndex - 1, rid: iRoomID, t: GetSendTime()}, function () { Shouted != 0 && (Shouted.Content = unescape(Shouted.Content), SetShouted(Shouted), _Config.ShoutedIndex = _Config.ShoutedIndex - 1) }, 'script') } function Shouted_Next () { _Config.ShoutedIndex >= 10 || $.get('/handle/GetShouted.asp', {ac: 'GetShouted', index: _Config.ShoutedIndex + 1, rid: iRoomID, t: GetSendTime()}, function () { Shouted != 0 && (Shouted.Content = unescape(Shouted.Content), SetShouted(Shouted), _Config.ShoutedIndex = _Config.ShoutedIndex + 1) }, 'script') } function iInfo_ClickHanlder () { $('.Y_Notice_Nav li').click(function () { $('.Y_Notice_Nav li.on').removeClass('on'), $(this).addClass('on'), $('.Y_Info > div').css({display: 'none'}), $('#' + $(this).attr('t')).css({display: 'block'}), $('.Y_Right_List').mCustomScrollbar('update') }) } function Refresh_Notice_Content_Click () { var a = htmlencode($('#Notice_Content').val()); $.get('/handle/SetNotice.asp', {ac: 'SetNotice', content: a, rid: iRoomID, t: GetSendTime()}, function () {}, 'script') } function Refresh_About_Content_Click () { var a = htmlencode($('#About_Content').val()); $.get('/handle/SetAbout.asp', {ac: 'SetAbout', content: a, rid: iRoomID, t: GetSendTime()}, function () {}, 'script') }$(function () { iInfo_ClickHanlder(), iInfo.Power > 999 && ($('.Shouted_Content_Del').css({display: 'inline-block'}), $('.Shouted_Content_Submit').css({display: 'inline-block'}), $('.Notice_Content_Submit').css({display: 'inline-block'}), $('.About_Content_Submit').css({display: 'inline-block'})), AjaxSetShouted() })
