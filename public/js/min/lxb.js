/*! live-0.0.0.js 2016-06-03 */
window.lxb = window.lxb || {}, lxb.instance = lxb.instance || 0, lxb.instance++, (function () { var a = {}; lxb.add = lxb.add || function (b, c) { var d = a[b]; d || (d = a[b] = {}, c.call(null, d)) }, lxb.use = lxb.use || function (b) { if (typeof b === 'string') { if (a[b]) return a[b]; throw 'no module: ' + b }b.call(null, a) } }()), lxb.add('base', function (a) { function b () { if (!k) { k = !0; for (var a = 0, b = j.length; b > a; a++)j[a]() } } function c () { try { document.documentElement.doScroll('left') } catch (a) { return void setTimeout(c, 1) }b() } function d () { for (var a, b = 0; a = o[b]; b++)e(a) } function e (a) { var b, c, d = document.compatMode == 'CSS1Compat' ? document.documentElement : document.body, e = a.ele; a.top === b && (c = e.style.top || e.currentStyle.top, c && c != 'auto' || (c = e.style.bottom || e.currentStyle.bottom, c && c.indexOf('%') >= 0 ? c = d.clientHeight * (100 - parseInt(c, 10)) / 100 - e.offsetHeight : c == 'auto' ? c = b : c && (c = d.clientHeight - e.offsetHeight - parseInt(c, 10))), c ? (c = typeof c === 'string' && c.indexOf('%') >= 0 ? d.clientHeight * parseInt(c, 10) / 100 : parseInt(c, 10), a.top = c) : a.top = b), a.top !== b && (e.style.top = d.scrollTop + a.top + 'px') } var f = /msie (\d+\.\d+)/i.test(navigator.userAgent) ? document.documentMode || +RegExp.$1 : void 0; a.ie = f, a.g = function (a) { return document.getElementById(a) }; var g = {}; f < 8 ? (g['class'] = 'className', g.maxlength = 'maxLength') : (g.className = 'class', g.maxLength = 'maxlength'), a.create = function (a, b) { var c, d = document.createElement(a); if (b) for (var e in b)b.hasOwnProperty(e) && (c = g[e] || e, d.setAttribute(c, b[e])); return d }, a.jsonToQuery = function (a) { var b = []; for (var c in a)a.hasOwnProperty(c) && b.push(c + '=' + encodeURIComponent(a[c])); return b.join('&') }, a.extend = function (a, b) { for (var c in b)b.hasOwnProperty(c) && (a[c] = b[c]); return a }, a.encodeHTML = function (a) { return a.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#39;') }; var h = new RegExp('(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)', 'g'); a.trim = function (a) { return a.replace(h, '') }, a.filter = function (a) { return a = a.replace(/\s+/, ''), /^http:\/\/|^https:\/\//i.test(a) ? a : a = a.replace(/^[^:]+:/gi, '') }, a.queryToJSON = function (a) { var b = {}; a = a.split('&'); for (var c, d = 0; c = a[d]; d++)c = c.split('='), c[0] && (b[c[0]] = c[1]); return b }, a.setCookie = function (a, b, c, d) { var e = a + '=' + b; if (c && (e += '; path=' + c), d) { var f = new Date(); f.setTime(f.getTime() + 24 * d * 3600 * 1e3), e += '; expires=' + f.toGMTString() }document.cookie = e }, a.getCookie = function (a) { var b = new RegExp('(^| )' + a + '=([^;]*)(;|$)'), c = b.exec(document.cookie); return c ? c[2] || null : null }; var i, j = [], k = !1; if (document.addEventListener ? i = function () { document.removeEventListener('DOMContentLoaded', i, !1), b() } : document.attachEvent && (i = function () { document.readyState === 'complete' && (document.detachEvent('onreadystatechange', i), b()) }), document.readyState === 'complete')k = !0; else if (document.addEventListener)document.addEventListener('DOMContentLoaded', i, !1), window.addEventListener('load', b, !1); else if (document.attachEvent) { document.attachEvent('onreadystatechange', i), window.attachEvent('onload', b); var l = !1; try { l = window.frameElement == null } catch (m) {}document.documentElement.doScroll && l && c() }a.ready = function (a) { k ? a() : j.push(a) }; var n = ['', '4-3-3', '3-4-3', '3-3-4']; a.formatTel = function (a, b) { var c = n[parseInt(b, 10)], d = []; if (!c) return a; a = a.split(''), c = c.split('-'); for (var e, f = 0; e = c[f]; f++)d.push(a.splice(0, parseInt(e, 10)).join('')); return d.join('-') }; var o = []; a.setFixed = function (a) { o.length <= 0 && (window.attachEvent('onscroll', d), window.attachEvent('onresize', d)), a.style.position = 'absolute', o.push({ele: a}), e(o[o.length - 1]) }, a.q = function (a, b) { var c, d, e, f, g = []; if (!(a = a.replace(/\s+/, ''))) return g; if (typeof b === 'undefined' && (b = document), b.getElementsByClassName) for (e = b.getElementsByClassName(a), c = e.length, d = 0; c > d; d++)f = e[d], g[g.length] = f; else for (a = new RegExp('(^|\\s)' + a + '(\\s|$)'), e = b.all || b.getElementsByTagName('*'), c = e.length, d = 0; c > d; d++)f = e[d], a.test(f.className) && (g[g.length] = f); return g }, a.viewportSize = function () { return document.compatMode == 'BackCompat' ? {width: document.body.clientWidth, height: document.body.clientHeight} : {width: document.documentElement.clientWidth, height: document.documentElement.clientHeight} }, a.addHandler = function (a, b, c) { a.addEventListener ? a.addEventListener(b, c, !1) : a.attachEvent ? a.attachEvent('on' + b, c) : a['on' + b] = c }, a.removeHandler = function (a, b, c) { a.removeEventListener ? a.removeEventListener(b, c, !1) : a.detachEvent ? a.detachEvent('on' + b, c) : a['on' + b] = null }, a.getViewHeight = function () { var a = document.compatMode == 'BackCompat' ? document.body : document.documentElement; return a.clientHeight }, a.getViewWidth = function () { var a = document.compatMode == 'BackCompat' ? document.body : document.documentElement; return a.clientWidth }, a.getDomInfo = function (a) { return {width: a.offsetWidth, height: a.offsetHeight, top: a.offsetTop, left: a.offsetLeft} }, a.getStyle = function (a) { return a ? a.style.cssText : void 0 }; a.css = function (a, b) { if (a.currentStyle) { var c = a.currentStyle[b]; return c == 'auto' && (c = '0'), c } return window.getComputedStyle(a)[b] } }), lxb.add('config', function (a) { var b = lxb.use('base'), c = {BDCBID: 'c6fdfdb7-64a9-4ae8-ba18-c3ad41c2bfe5', LXBVT: 0, TEMPSITEID: '7432987', TEMPPORT: 'lxbjs.baidu.com/', TEMPFILEROOT: 'newFloat'}, d = {BDCBID: 'bdcbid', LXBVT: 1, TEMPSITEID: 'siteid', TEMPPORT: 'localhost:7779/', TEMPFILEROOT: 'newFloat'}; b.extend(d, c); var e = location.href.indexOf('https://') === 0 ? 'https://' : 'http://'; a.SiteId = d.TEMPSITEID, a.Port = e + d.TEMPPORT, a.Root = e + d.TEMPPORT + d.TEMPFILEROOT, a.lxbvt = d.LXBVT, a.bdcbid = d.BDCBID, a.Lang = {TRAN: '转', WE: '我们', CB_INPUT_TIP_1: '手机请直接输入：如1860086xxxx', CB_INPUT_TIP_2: '座机前加区号：如0105992xxxx', CB_INPUT_TIP_3: '输入您的电话号码，点击通话，稍后您将接到我们的电话，该通话对您<em>完全免费</em>，请放心接听！', CB_INPUT_TIP_HOLDER: '请输入您的电话号码', INVITE_INPUT_TIP_HOLDER: '输入号码后点击下列按钮，免费回电', CB_SUCCESS_TIP_1: '稍后您将接到', CB_SUCCESS_TIP_2: '的电话，<br />该通话对您<em>完全免费</em>，<br />请放心接听！', ERROR_CB_PHONE: '请您输入正确的号码，手机号码请直接输入，座机请加区号', ERROR_CB_FAIL: '系统繁忙，请稍后重试', LOADING_CB_TIP: '拨号中，请稍候', CB_SUCCESS_TIP_TXT_0: '稍后您将接到我们的来电', CB_SUCCESS_TIP_TXT_1: '正在呼叫您的电话', CB_SUCCESS_TIP_TXT_2: '请准备接听', CB_INFO_TIP_CLOSE: '╳', CB_PIN_INTRO: '请输入验证码', CB_PIN_OK: '确定', CB_PIN_CANCLE: '取消', CB_PIN_NULL: '验证码不能为空', CB_PIN_WRONG: '验证码错误', REFRESH: '刷新', CB_PIN: '验证码'}, a.ClassName = {MAIN: 'lxb-container', TL_PHONE: 'lxb-tl-phone', TL_PHONE_EM: 'lxb-tl-phone-em', CB_ICON: 'lxb-cb-icon', CB_INPUT: 'lxb-cb-input', CB_INPUT_BTN: 'lxb-cb-input-btn', CB_INPUT_TIP: 'lxb-cb-input-tip', CB_INPUT_TIP_CURSOR: 'lxb-cb-input-tip-cursor', CB_SUCCESS_TIP: 'lxb-cb-success-tip', CB_LOADING_TIP: 'lxb-cb-loading-tip', CB_INFO_TIP: 'lxb-cb-info-tip', INVITE_LINK_CON: 'lxb-invite-link-con', INVITE_LINK_TEXT: 'lxb-invite-link-txt', INVITE_LINK_BTN: 'lxb-invite-link-btn', Position: {HOR: ['lxb-pos-left', 'lxb-pos-right'], VER: ['lxb-pos-top', 'lxb-pos-middle', 'lxb-pos-bottom']}, PositionFix: {HOR: ['-left', '-right'], VER: ['-top', '-middle', '-bottom']}}, a.ID = {MAIN: 'LXB_CONTAINER', SHOW: 'LXB_CONTAINER_SHOW', IMG_PREV: 'LXB_IMG_PREV_', COOKIE_DBCLKID: 'LXB_DBCLICKID', COOKIE_REFER: 'LXB_REFER'}, a.TPL = {CB_INPUT_TIP_1: '<ins class="lxb-cb-input-tip-mobile">' + a.Lang.CB_INPUT_TIP_1 + '</ins><ins class="lxb-cb-input-tip-tel">' + a.Lang.CB_INPUT_TIP_2 + '</ins><ins class="lxb-cb-input-tip-em">' + a.Lang.CB_INPUT_TIP_3 + '</ins>', CB_SUCCESS_TIP_1: '<ins class="lxb-cb-success-tip-inner">', CB_SUCCESS_TIP_2: '</ins>', CB_LOADING_TIP: '<ins class="lxb-cb-loading-tip-img"></ins><ins class="lxb-cb-loading-tip-txt">' + a.Lang.LOADING_CB_TIP + '</ins>', CB_INFO_TIP_MAIN: '<ins class="lxb-cb-tip-con"></ins><ins class="lxb-cb-tip-arrow"></ins><ins class="lxb-cb-tip-close">' + a.Lang.CB_INFO_TIP_CLOSE + '</ins>', CB_SUCCESS_TIP_IMG: '<ins class="success-tip-img"></ins>', CB_SUCCESS_TIP_PHONE: '<ins class="success-tip-phone">', CB_SUCCESS_TIP_PHONE_END: '</ins>', CB_SUCCESS_TIP_TXT: '<ins class="success-tip-txt">' + a.Lang.CB_SUCCESS_TIP_TXT_1 + '</ins><ins class="success-tip-txt">' + a.Lang.CB_SUCCESS_TIP_TXT_2 + '</ins>', CB_SUCCESS_TIP_TXT_1: '<ins class="success-tip-txt">' + a.Lang.CB_SUCCESS_TIP_TXT_0 + '</ins><ins class="success-tip-txt">' + a.Lang.CB_SUCCESS_TIP_TXT_2 + '</ins>', CB_ERROR_TIP_S: '<ins class="error-tip">', CB_ERROR_TIP_E: '</ins>', CB_PIN: '<ins class="pin-intro">' + a.Lang.CB_PIN_INTRO + '</ins><ins class="pin-input-con"><input type="text" maxlength="4" class="pin-input" /><img class="pin-img" alt="' + a.Lang.CB_PIN + '"/><ins class="pin-change" pin-type="change">' + a.Lang.REFRESH + '</ins></ins><ins class="pin-tip"></ins><ins class="pin-btn-con"><ins class="pin-btn pin-btn-first" pin-type="save">' + a.Lang.CB_PIN_OK + '</ins><ins class="pin-btn" pin-type="cancle">' + a.Lang.CB_PIN_CANCLE + '</ins></ins>'} }), lxb.add('net', function (a) { function b (a, b) { return function (c) { b.call(null, c), setTimeout(function () { var b = lxb.use('base').g(a); b.parentNode.removeChild(b) }, 0) } } function c (a, b) { var c = document.getElementsByTagName('head')[0], d = e.create('script', {type: 'text/javascript', src: a, id: b || '', charset: 'utf-8'}); c.appendChild(d) } function d (a) { var b = document.getElementsByTagName('head')[0], c = e.create('link', {rel: 'stylesheet', href: a, type: 'text/css', charset: 'utf-8'}); b.appendChild(c) } var e = lxb.use('base'); a.send = function (a, d, f) { var g = '_lxb_jsonp_' + (new Date()).getTime().toString(36) + '_', h = ['t=' + (new Date()).getTime()]; h.push('callback=' + g), window[g] = b(g, f), d = d || '', typeof d !== 'string' && (d = e.jsonToQuery(d)), d += (d ? '&' : '') + h.join('&'), a += (a.indexOf('?') >= 0 ? '&' : '?') + d, c(a, g) }, a.loadCSS = d, a.log = function (a, b) { window.console && console.log && console.log('[' + a + ']' + b) } }), lxb.add('util', function (a) { var b = null; a.init = function (a) { b = a }, a.isCallback = function () { return parseInt(b.float_window, 10) !== 1 }, a.isPin = function () { return parseInt(b.scode, 10) === 1 }, a.isGroup = function () { return parseInt(b.ifGroup, 10) === 1 }, a.isTel = function () { return parseInt(b.float_window, 10) !== 2 }, a.isExt = function () { return parseInt(b.mode, 10) === 1 }, a.isInvite = function () { return parseInt(b.inviteStatus, 10) === 1 }, a.ifStartPage = function () { return b.inviteWay.ifStartPage }; var c = null, d = null, e = a.getDomain = function (a) { return a = a.replace(/^https?:\/\//, '').split('/'), a[0].replace(/:.*$/, '') }, f = function (a) { a = a.replace(/\r\n/g, '\n'); for (var b = '', c = 0; c < a.length; c++) { var d = a.charCodeAt(c); d < 128 ? b += String.fromCharCode(d) : d > 127 && d < 2048 ? (b += String.fromCharCode(d >> 6 | 192), b += String.fromCharCode(63 & d | 128)) : (b += String.fromCharCode(d >> 12 | 224), b += String.fromCharCode(d >> 6 & 63 | 128), b += String.fromCharCode(63 & d | 128)) } return b }, g = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=', h = a.base64 = function (a) { var b, c, d, e, h, i, j, k = '', l = 0; for (a = f(a); l < a.length;)b = a.charCodeAt(l++), c = a.charCodeAt(l++), d = a.charCodeAt(l++), e = b >> 2, h = (3 & b) << 4 | c >> 4, i = (15 & c) << 2 | d >> 6, j = 63 & d, isNaN(c) ? i = j = 64 : isNaN(d) && (j = 64), k = k + g.charAt(e) + g.charAt(h) + g.charAt(i) + g.charAt(j); return k }, i = function (a, b, c, d) { var e = a + '=' + b; if (c && (e += '; path=' + c), d) { var f = new Date(); f.setTime(f.getTime() + 24 * d * 3600 * 1e3), e += '; expires=' + f.toGMTString() }document.cookie = e }, j = function (a) { var b = new RegExp('(^| )' + a + '=([^;]*)(;|$)'), c = b.exec(document.cookie); return c ? c[2] || null : null }, k = -1, l = a.isLoadPage = function () { if (k !== -1) return k; var a = e(window.location.href), b = e(document.referrer); return document.referrer ? k = a !== b : j('isLoadPage') === 'loaded' ? k = !1 : (i('isLoadPage', 'loaded', '/'), k = !0) }; a.visitorLog = function (a, b) { var e = 512, f = lxb.use('config'); if (f.lxbvt) { var g = f.Port + 'vt/lxb.gif', i = (document.title || '').substr(0, e), j = (document.referrer || '').substr(0, e), k = (document.URL || '').substr(0, e), m = f.bdcbid, n = []; n.push(encodeURIComponent(a || '')), n.push(encodeURIComponent(i || '')), n.push(encodeURIComponent(j || '')), n.push(encodeURIComponent(k || '')), n.push(+l()); var o = h(n.join(',')), p = function () { c || (c = document.createElement('div'), c.style.display = 'none'), c.innerHTML = '<form action="' + g + '" method="post" target="lxbHideIframe"><input name="p" value="' + o + '"/><input name="sid" value="' + b + '"/><input name="bdcbid" value="' + m + '"/><input name="t" value="' + (new Date()).valueOf() + '"/></form><iframe id="lxbHideIframe" name="lxbHideIframe" src="about:blank"></iframe>', document.body && (document.body.appendChild(c), d = c.getElementsByTagName('form')[0], d.submit()) }; document.body ? p() : window.onload = p } }, a.position = function () { var a = b.position, c = a > 0 ? 'right' : 'left', d = Math.abs(a) - 1; return {hor: c, ver: d} }; var m = a.setMaskSize = function (a, b) { var c = a.style.height || (a.currentStyle ? a.currentStyle.height : ''); c && c != 'auto' ? (b.style.height = c, b.style.width = a.style.width || (a.currentStyle ? a.currentStyle.width : '100%'), a.style.zoom = 1) : setTimeout(m, 300) }; a.getTel = function () { return {phone: b.phone, ext: b.ext, format: b.format} }, a.getCallback = function () { return {groupBtns: b.groupDetail, siteId: b.siteid, code: b.code} }, a.getReplace = function () { return {replace: b.replace, phone: b.phone, ext: b.mode == 1 ? b.ext : '', format: b.format || '1'} }, a.getFloat = function () { return {container: b.floatModule, closeBtn: b.closeModule} }, a.getInvite = function () { var a = b.invitePosition, c = {0: ' ;top: 50%; left: 50%', 1: ' ;bottom: 0; left: 0', 2: ' ;bottom: 0; right: 0'}; return {container: b.inviteModule, position: a, style: c[a]} }, a.getInviteWay = function () { return b.inviteWay }, a.checkFloat = function () { if (document.readyState === 'complete') { var a = lxb.use('base'), b = a.g('LXB_CONTAINER'), c = a.g('LXB_INVITE'); if (b) var d = a.css(b, 'display') === 'block' ? 1 : 0; if (c) var e = a.css(c, 'display') === 'block' ? 1 : 0; a.create('img', {src: lxb.use('config').Root + '/count.gif?t=n&s=' + (d || e || 0)}) } } }), lxb.add('log', function (a) { function b () { for (var a = [], b = 0; b < 32; b++)a[b] = g.substr(Math.floor(16 * Math.random()), 1); a[12] = '4', a[16] = g.substr(3 & a[16] | 8, 1); var c = a.join('').toLowerCase(); return c = c.toLowerCase(), c = c.replace(/^(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})$/, '$1-$2-$3-$4-$5') } function c (a) { var b = document.createElement('img'); b.src = a } var d = lxb.use('config').Root + '/log.gif', e = lxb.use('base').jsonToQuery, f = null, g = '0123456789ABCDEF'; a.sendLog = function (a, g) { !f && (f = b()), a.uuid = f; var h = (g || d) + '?' + e(a); c(h) } }), lxb.add('business.replacer', function (a) { function b (a, b, c) { for (var d, e, f = 0; e = b[f]; f++)d = a.nodeValue.replace(e, c), d != a.nodeValue && (a.nodeValue = d) } function c (a) { var b = []; typeof a === 'string' && (a = [a]); for (var c, d = 0; c = a[d]; d++)c.indexOf('@REG:') == 0 ? b.push(new RegExp(c.substring(5), 'g')) : b.push(c); return b } function d (a) { var b = []; if (a.nodeType == 3)b.push(a); else if (a.nodeType == 1 && (a.className || a.className === '') && a.className.indexOf && a.className.indexOf('lxb-') < 0) for (var c = a.firstChild; c != null; c = c.nextSibling)b = b.concat(d(c)); return b } function e (a, e) { for (var f, g = d(document.body || document.getElementsByTagName('body')[0]), a = c(a), h = 0; f = g[h]; h++)b(f, a, e) }a.run = function () { var a = lxb.use('base'), b = lxb.use('config').Lang, c = lxb.use('util'), d = c.getReplace(), f = a.formatTel(d.phone, d.format) + (d.ext ? b.TRAN + d.ext : ''); !d.texts || d.texts.length <= 0 || !f || a.ready(function () { e(d.texts, f) }) } }), lxb.add('business.pin', function (a) { function b (a) { return a = f.trim(a), a == '' ? (l.tip.innerHTML = h.CB_PIN_NULL, !1) : a.length != 4 ? (l.tip.innerHTML = h.CB_PIN_WRONG, !1) : !0 } function c () { l.tipCon.onclick = function (a) { a = a || window.event; var c = a.target || a.srcElement, f = c.getAttribute('pin-type'); if (f) switch (f) { case 'save':var g = l.input.value; if (!b(g)) return; d(g); break; case 'cancle':e(); break; case 'change':l.pinImg.src = n + (new Date()).getTime() } }, l.input.onkeyup = function (a) { if (a = a || window.event, a.keyCode == 13) { var c = l.input.value; if (!b(c)) return; d(c) } }, l.input.onkeydown = l.input.onmousedown = function () { k() } } function d (a) { var b = lxb.use('net'), c = i + 'cb/callcode'; b.send(c, {scode: a}, function (a) { return a.status ? void (l.tip.innerHTML = a.statusInfo || h.CB_PIN_WRONG) : (e(), void j(m.val, m.gid)) }) } function e () { l.container.style.display = 'none', l = {} } var f = lxb.use('base'), g = lxb.use('config').TPL, h = lxb.use('config').Lang, i = lxb.use('config').Port, j = null, k = null, l = {}, m = {}, n = i + 'cb/scode?t='; a.render = function (a, b, d) { b.innerHTML = g.CB_PIN, j = d.callback, k = d.timer, m.val = d.val, m.gid = d.gid, l = {}, l.tipCon = b, l.container = a, l.input = f.q('pin-input', b)[0], l.pinImg = f.q('pin-img', b)[0], l.tip = f.q('pin-tip', b)[0], l.pinImg.src = n + (new Date()).getTime(), c() } }), lxb.add('business.tip', function (a) { function b (a, b, c, d) { var e = b.height <= c.height, g = !!(f.ie <= 6 || f.ie && document.compatMode != 'CSS1Compat'); if (g) { var i = h.position().ver; b.top = a.height * i / 100 + 'px' } var j = d.mainArrow.offsetWidth; c.width > b.left ? (d.mainArrow.className += ' arrow-left', c.height > b.top ? (d.mainArrow.style.top = '6px', d.main.style.top = e ? '22px' : '10px') : (d.mainArrow.style.top = c.height - d.mainArrow.offsetHeight - 5 + 'px', d.main.style.top = e ? b.height - c.height - 10 + 'px' : '0px'), d.mainArrow.style.left = -j + 'px', d.main.style.left = b.left + b.width + j + 'px') : (d.mainArrow.className += ' arrow-right', c.height > b.top ? (d.mainArrow.style.top = '6px', d.main.style.top = e ? '22px' : '10px') : (d.mainArrow.style.top = c.height - d.mainArrow.offsetHeight - 5 + 'px', d.main.style.top = e ? b.height - c.height - 10 + 'px' : '0px'), d.mainArrow.style.left = c.clientWidth + 'px', d.main.style.left = -c.width - j + 'px') } function c (a, b, c) { var d = h.position(); d.hor == 'left' ? c.main.style.left = 0 : c.main.style.left = a.width - b.width + 'px', b.height > a.top ? c.main.style.top = 0 : c.main.style.top = a.height - b.height + 'px' } function d (a) { this.container = a, this.main = f.q('lxb-cb-tip', this.container)[0], this.main.innerHTML = g.CB_INFO_TIP_MAIN, this.mainCon = f.q('lxb-cb-tip-con', this.main)[0], this.mainArrow = f.q('lxb-cb-tip-arrow', this.main)[0], this.closeBtn = f.q('lxb-cb-tip-close', this.main)[0], this.main.style.zIndex = 2147483647, this.timer = null, this.hide(), this._bindEvents() } var e = lxb.use('business.pin'), f = lxb.use('base'), g = lxb.use('config').TPL, h = (lxb.use('config').ClassName, lxb.use('util')); d.prototype = {show: function (a, b) { clearTimeout(this.timer), this._setType(a), this._showHandler[a].call(this, b), this.main.style.display = '', this._setPosition(a) }, hide: function () { this.main.style.display = 'none' }, getClass: function () { return this.main.className }, _bindEvents: function () { var a = this; a.closeBtn.onclick = function () { a.hide() } }, _setType: function (a) { a != 'pin' && (a = a == 'info' || a == 'loading' ? 'info' : 'feedback'), this.main.className = 'lxb-cb-tip lxb-cb-tip-' + a, this.mainArrow.className = 'lxb-cb-tip-arrow' }, _showHandler: {success: function (a) { var b = this; a.order == '0' ? b.mainCon.innerHTML = g.CB_SUCCESS_TIP_IMG + g.CB_SUCCESS_TIP_PHONE + f.encodeHTML(a.cbPhone) + g.CB_SUCCESS_TIP_PHONE_END + g.CB_SUCCESS_TIP_TXT : b.mainCon.innerHTML = g.CB_SUCCESS_TIP_IMG + g.CB_SUCCESS_TIP_TXT_1, a.order == '0' ? b.timer = setTimeout(function () { b.hide() }, 5e3) : b.timer = setTimeout(function () { b.hide() }, 3e4) }, error: function (a) { this.mainCon.innerHTML = g.CB_ERROR_TIP_S + a.msg + g.CB_ERROR_TIP_E }, info: function () { this.mainCon.innerHTML = g.CB_INPUT_TIP_1 }, loading: function () { this.mainCon.innerHTML = g.CB_LOADING_TIP }, pin: function (a) { e.render(this.main, this.mainCon, a) }}, _setPosition: function (a) { var d = this, e = f.viewportSize(), g = f.getDomInfo(d.container), h = f.getDomInfo(d.main); h.clientWidth = d.main.clientWidth, a != 'pin' ? b(e, g, h, d) : c(g, h, d) }}, d.prototype.constructor = d, a.init = function (a) { return new d(a) } }), lxb.add('business.tel', function (a) { function b (a) { this.tel = d.q('lxb-tl-phone', a)[0], this._render() } var c = lxb.use('util'), d = lxb.use('base'), e = (lxb.use('config').ClassName, lxb.use('config').Lang), f = d.encodeHTML; b.prototype = {_render: function () { var a = c.getTel(); return c.isTel() ? (this.tel.style.display = 'block', this.tel.innerHTML = d.formatTel(f(a.phone), a.format), void (c.isExt() && (this.tel.innerHTML += e.TRAN + f(a.ext)))) : void (this.tel.style.display = 'none') }}, a.init = function (a) { return new b(a) } }), lxb.add('business.callback', function (a) { function b (a) { var b = !0; return /^\d{11,12}$/.test(a) || (b = !1), b } function c (a) { this.container = a, this.name = a.className, this.tip = i.init(a), this.cbInfo = h.getCallback(), this.groupBtns = this.cbInfo.groupBtns, this.timer = null, this._render(), this._bindEvents() } var d = lxb.use('base'), e = lxb.use('net'), f = d.q, g = (lxb.use('config').ClassName, lxb.use('config').Lang), h = lxb.use('util'), i = lxb.use('business.tip'); a.init = function (a) { return new c(a) }, c.prototype = {opTimer: [0], _render: function () { var a = this; if (a.cbInput = f('lxb-cb-input', a.container)[0], a.cbBtn = f('lxb-cb-input-btn', a.container)[0], a.group = f('lxb-group-con', a.container)[0], h.isCallback()) if (a.tipHolder = a.cbInput.value, a.cbInput.style.display = '', !h.isGroup() || a.groupBtns.length < 2)a.cbBtn.style.display = '', a.group.style.display = 'none'; else { for (var b, c = f('lxb-group-btn', a.group)[0], e = c ? d.getStyle(c) : '', g = '', i = 0; b = a.groupBtns[i]; i++)g += '<ins class="lxb-group-btn" style="' + e + '" gid="' + b.groupid + '">' + b.groupname + '</ins>'; a.group.innerHTML = g, a.cbBtn.style.display = 'none', a.group.style.display = '' } else a.cbInput.style.display = a.cbBtn.style.display = a.group.style.display = 'none' }, _bindEvents: function () { var a = this; a.cbInput.onfocus = function () { this.value == a.tipHolder && (this.value = ''), a.tip.show('info') }, a.cbInput.onblur = function () { this.value == '' && (this.value = a.tipHolder), a.tip.getClass().indexOf('pin') < 0 && a.tip.hide() }, a.cbInput.onkeydown = a.cbInput.onmousedown = function () { a._setOpTimer() }, h.isGroup() && a.groupBtns.length != 1 || (a.cbInput.onkeyup = function (b) { b = b || window.event, b.keyCode == 13 && a.cbBtn.onclick() }), a.group.onclick = function (b) { b = b || window.event; var c = b.target || b.srcElement; c.className.indexOf('lxb-group-btn') >= 0 && (a._callCount(), a._doCall(c.getAttribute('gid'))) }, a.cbBtn.onclick = function () { if (a.groupBtns.length == 1) var b = a.groupBtns[0].groupid; a._callCount(), a._doCall(b) } }, _callCount: function () { d.create('img', {src: lxb.use('config').Root + '/count.gif?t=n'}) }, _doCall: function (a) { d.setCookie('isCalled', 'called', '/'); var c = this, e = c.cbInput.value = d.trim(c.cbInput.value); return b(e) ? void (h.isPin() ? c.tip.show('pin', {callback: c.bind(c._submit, c), val: e, gid: a, timer: c.bind(c._setOpTimer, c)}) : c._submit(e, a)) : void c.tip.show('error', {msg: g.ERROR_CB_PHONE}) }, _setOpTimer: function () { var a = this; a.opTimer[0] = (new Date()).valueOf() }, bind: function (a, b) { return function () { return a.apply(b, arguments) } }, _submit: function (a, b) { var c = lxb.use('config').Root + '/_c.js', d = lxb.use('config').Root + '/xCode', f = lxb.use('config').bdcbid, i = this; if (!i.timer) { i.tip.show('loading'), i.timer = setTimeout(function () { i.timer = null }, 5e3); var j = {vtel: a, siteid: i.cbInfo.siteId, bdcbid: f, refer_domain: h.getDomain(document.referrer) || ''}; b && (j.g = b), e.send(d, j, function (a) { j.code = a.data.code, e.send(c, j, function (a) { if (i.tip.hide(), a.status) { var b = a.msg || g.ERROR_CB_FAIL; i.tip.show('error', {msg: b + ' ( code: ' + a.status + ' )'}) } else { var c = {}; c.order = a.order, c.cbPhone = a.cbPhone, i.tip.show('success', c), i.cbInput.value = i.tipHolder }i.timer && (clearTimeout(i.timer), i.timer = null) }) }), h.visitorLog(2, i.cbInfo.siteId) } }, getInput: function () { return this.cbInput }, getBtn: function () { return this.cbBtn }, getGroup: function () { return this.group }, getTip: function () { return this.tip }}, c.prototype.constructor = c }), lxb.add('business.run', function (a) { function b () { d = lxb.use('business.float'), d.init(function () { c.isCallback() && c.isInvite() && (e = lxb.use('business.invite'), e.isShow() && (e.init(), e.begin(d))) }) } var c = lxb.use('util'), d = (lxb.use('base'), null), e = null; a.run = function () { b() } }), lxb.add('business.float', function (a) { function b () { var a = g.getFloat(), b = f.create('div'); b.innerHTML = a.container + a.closeBtn, j.main = f.q('lxb-container', b)[0], j.main.id = 'LXB_CONTAINER', j.closeBtn = f.q('lxb-close-btn', b)[0], j.closeBtn.id = 'LXB_CLOSE_BTN', j.main.style.display = 'none', j.closeBtn.style.display = 'none', j.main.style.position = j.closeBtn.style.position = 'fixed', j.main.style.top = j.closeBtn.style.top = j.main.style.left = j.closeBtn.style.left = '', f.ready(function () { document.body.appendChild(j.main), document.body.appendChild(j.closeBtn), c() }) } function c () { var a = lxb.use('log'), b = function (c) { f.css(j.main, 'zIndex') > 0 ? (a.sendLog({fType: 2, name: 'css', t: (new Date()).getTime()}), c.call(null)) : setTimeout(function () { b(c) }, 30) }; b(function () { h.init(j.main), j.callback = i.init(j.main), e('display: block!important;'), j.closeBtn.style.display = ''; var b = g.position(), c = j.main.offsetHeight, d = j.closeBtn.offsetHeight, m = f.getViewHeight(); if (j.main.style.top = (m - c) * b.ver / 100 + 'px', j.closeBtn.style.top = (m - d) * b.ver / 100 + 'px', j.main.style[b.hor] = j.closeBtn.style[b.hor] = 0, (f.ie <= 6 || f.ie === 7 && document.compatMode !== 'CSS1Compat') && (f.setFixed(j.closeBtn), f.setFixed(j.main)), j.closeBtn.style.display = 'none', l = 'float', f.ie && f.ie <= 6) { j.mask = f.create('iframe', {frameBorder: 0, className: 'lxb-container-mask'}), j.main.appendChild(j.mask); var n = f.create('ins', {className: 'lxb-mask-base'}); j.closeBtn.insertBefore(n, j.closeBtn.firstChild), j.closeBtn.appendChild(j.btnShowMask = f.create('iframe', {frameBorder: 0, className: 'lxb-container-mask'})) }k && k.call(null), a.sendLog({fType: 2, name: 'finishRender', t: (new Date()).getTime()}); var o = setInterval(function () { document.readyState === 'complete' && (clearInterval(o), g.checkFloat()) }, 0); f.ie && f.ie <= 6 && (g.setMaskSize(j.main, j.mask), j.btnShowMask.contentWindow.document.open(), j.btnShowMask.contentWindow.document.write('<html><head></head><body style="padding:0px;margin:0px;height:100%;width:100%"></body></html>'), j.btnShowMask.contentWindow.document.close()) }) } function d () { function a () { j.closeBtn.style.display = 'none', e('display: block!important;'), l = 'float' }j.main.onkeypress = j.main.onkeydown = j.main.onkeyup = j.main.onmousedown = j.main.onmouseup = j.main.onclick = function (a) { a = a || window.event, a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0 }, j.hideBtn = f.q('lxb-hide-btn', j.main)[0], j.hideBtn.onclick = function () { e('display: none;'), j.closeBtn.style.display = '', l = 'close' }, j.btnShowMask && (j.btnShowMask.contentWindow.document.onclick = a), j.closeBtn.onclick = a } function e (a) { var b = /display:\s{0,2}[a-z\s{0,2}!]*;/i; j.main.style.cssText = j.main.style.cssText.replace(b, a) } var f = lxb.use('base'), g = lxb.use('util'), h = lxb.use('business.tel'), i = lxb.use('business.callback'), j = {}, k = null, l = null; a.init = function (a) { k = a, b(), d() }, a.show = function (a) { l === 'float' ? e('display: block!important;') : j.closeBtn.style.display = '', j.floatInput ? null : j.floatInput = f.q('lxb-cb-input', j.main)[0], j.floatInput.value = a }, a.hide = function () { j.callback.getTip().hide(), l === 'float' ? e('display: none;') : j.closeBtn.style.display = 'none' } }), lxb.add('business.invite', function (a) { function b () { var a = i.getInvite(), b = h.create('div'); b.innerHTML = a.container, l.main = h.q('lxb-invite', b)[0], l.main.id = 'LXB_INVITE', document.body.appendChild(l.main), j.init(l.main), l.callback = k.init(l.main), l.main.style.position = 'fixed', l.main.style.top = l.main.style.left = ''; var c = l.main.offsetHeight, d = l.main.offsetWidth; l.main.style.cssText += a.style, a.position == 0 && (l.main.style.marginTop = -(c / 2) + 'px', l.main.style.marginLeft = -(d / 2) + 'px'), (h.ie <= 6 || h.ie == 7 && document.compatMode != 'CSS1Compat') && h.setFixed(l.main), l.main.style.display = 'none', h.ie && h.ie <= 6 && (l.mask = h.create('iframe', {frameBorder: 0, className: 'lxb-container-mask'}), l.main.appendChild(l.mask), i.setMaskSize(l.main, l.mask)) } function c () { var a = function () { m = [] }, b = function (b) { b = b || window.event; var c = b.target || b.srcElement; c.className == 'lxb-group-btn' && a() }, c = function (b) { b = b || window.event, b.keycode === 13 && a() }, d = l.callback.getInput(), e = l.callback.getBtn(), f = l.callback.getGroup(); h.addHandler(d, 'keydown', c), h.addHandler(e, 'click', a), h.addHandler(f, 'click', b), l.hideBtn = h.q('lxb-hide-btn', l.main)[0], l.hideBtn.onclick = function () { g(), p(), n.show(o) } } function d () { var b = i.getInviteWay(), c = b.stayTime, d = b.inviteTimes, h = b.inviteInterval, j = b.closeTime || 99999; m.push({delay: c, callback: function () { a.isShow() && (f(), n.hide(), q(o)) }}), m.push({delay: j, callback: function () { g(), p(), n.show(o) }}), d--; for (var k = 0; d > k; k++)m.push({delay: h, callback: function () { a.isShow() && (f(), n.hide(), q(o)) }}), m.push({delay: j, callback: function () { g(), p(), n.show(o) }}); e() } function e () { var a = m.shift(); if (a) { var b = function () { var c = (new Date()).valueOf(); c - l.callback.opTimer[0] < 3e3 ? setTimeout(b, 3e3) : a.callback.call(null) }; setTimeout(b, 1e3 * a.delay) } } function f () { l.floatInput ? null : l.floatInput = h.q('lxb-cb-input')[0], o = l.floatInput.value === '' ? lxb.use('config').Lang.CB_INPUT_TIP_HOLDER : l.floatInput.value } function g () { l.inviteInput ? null : l.inviteInput = h.q('lxb-cb-input', l.main)[0], o = l.inviteInput.value === '' ? lxb.use('config').Lang.CB_INPUT_TIP_HOLDER : l.inviteInput.value } var h = lxb.use('base'), i = lxb.use('util'), j = lxb.use('business.tel'), k = lxb.use('business.callback'), l = {}, m = [], n = null, o = ''; a.init = function () { b(), c() }, a.isShow = function () { return h.getCookie('isCalled') !== 'called' }; var p = a.hide = function () { l.callback.getTip().hide(), l.main.style.display = 'none', e() }, q = a.show = function (a) { h.getCookie('isCalled') !== 'called' && (l.main.style.display = '', l.inviteInput ? null : l.inviteInput = h.q('lxb-cb-input', l.main)[0], l.inviteInput.value = a, e()) }; a.begin = function (a) { n = a, i.ifStartPage() === 0 ? d() : i.ifStartPage() === 1 && i.isLoadPage() && d() } }), (function () { function a (a) { g.sendLog({fType: 2, name: '_l', t: (new Date()).getTime()}); var b = lxb.use('net'); if (a.status) return void b.log('error', 'init'); var c = a.data; if (e.init(c), c.replace && c.phone) try { lxb.use('business.replacer').run() } catch (d) { b.log('error', 'replace') } if (!c.float_window || c.float_window == '0') return {}; var h = lxb.use('config').Root + '/asset/float.css'; b.loadCSS(h), f.run() } function b () { var a = location.search ? location.search.substring(1) : ''; return a = h.queryToJSON(a), a.bdclkid } function c () { var a = document.referrer; return a = a.replace(/^https?:\/\//, '').split('/'), a[0].replace(/:.*$/, '') } function d (a) { var b = '', c = ['.com', '.co', '.cn', '.info', '.net', '.org', '.me', '.mobi', '.us', '.biz', '.xxx', '.ca', '.co.jp', '.com.cn', '.net.cn', '.org.cn', '.gov.cn', '.mx', '.tv', '.ws', '.ag', '.com.ag', '.net.ag', '.org.ag', '.am', '.asia', '.at', '.be', '.com.br', '.net.br', '.bz', '.com.bz', '.net.bz', '.cc', '.com.co', '.net.co', '.nom.co', '.de', '.es', '.com.es', '.nom.es', '.org.es', '.eu', '.fm', '.fr', '.gs', '.in', '.co.in', '.firm.in', '.gen.in', '.ind.in', '.net.in', '.org.in', '.it', '.jobs', '.jp', '.ms', '.com.mx', '.nl', '.nu', '.co.nz', '.net.nz', '.org.nz', '.se', '.tc', '.tk', '.tw', '.com.tw', '.com.hk', '.idv.tw', '.org.tw', '.hk', '.co.uk', '.me.uk', '.org.uk', '.vg', '.name']; c = c.join('|').replace('.', '\\.'); var d = new RegExp('\\.?([^.]+(' + c + '))$'); return a.replace(d, function (a, c) { b = c }), b } var e = lxb.use('util'), f = lxb.use('business.run'), g = lxb.use('log'); g.sendLog({fType: 2, name: 'lxb', t: (new Date()).getTime()}); var h = lxb.use('base'); if (window.top != window) try { window.parent.document.getElementsByTagName('frameset')[0] || lxb.instance++ } catch (i) {} if (!(lxb.instance > 1)) { var j = lxb.use('config'), k = lxb.use('net'), l = j.Root + '/_l.js', m = b(); m ? h.setCookie(j.ID.COOKIE_DBCLKID, m) : m = h.getCookie(j.ID.COOKIE_DBCLKID); var n = j.bdcbid, o = c(); if (o && d(o) != d(location.hostname)) { var p = o + '; path=/'; location.hostname.indexOf('baidu.com') < 0 && (p += '; domain=.' + d(location.hostname)), h.setCookie(j.ID.COOKIE_REFER, p) } else o = h.getCookie(j.ID.COOKIE_REFER); var q = {siteid: j.SiteId, bdclickid: m || '', bdcbid: n || '', refer_domain: o || '', ishttp: location.href.indexOf('https://') === 0 ? 0 : 1}; k.send(l, q, a), e.visitorLog(1, j.SiteId) } }())
