/*! live-0.0.0.js 2016-06-03 */
!(function () { var a = document, b = window; parseInt, a.documentElement, a.body, a.compatMode == 'CSS1Compat', encodeURIComponent; window.CHAT = {msgObj: a.getElementById('message'), scrollToBottom: function () { b.scrollTo(0, this.msgObj.clientHeight) }, logout: function () { location.reload() }, messsgesubmit1: function () { this.socket = io.connect('ws://localhost:3000'); var a = {date: $(this).parent().children('span').eq(0).text(), content: $(this).parent().children('span').eq(1).html(), level: $(this).parent().children('input').eq(0).val(), ip: $(this).parent().children('input').eq(1).val(), userid: $(this).parent().children('input').eq(2).val().trim(), msgid: $(this).parent().children('input').eq(3).val(), username: $(this).parent().children('a').text()}; return $(this).parent().remove(), this.socket.emit('message', a), !1 }, messsgecancel: function () { this.socket = io.connect('ws://139.196.203.21:3000'); var a = {msgid: $(this).parent().children('input').eq(3).val(), level: 78}; return $(this).parent().remove(), this.socket.emit('message', a), !1 }, replace_em: function (a) { return a = a.replace(/\</g, '<;'), a = a.replace(/\>/g, '>;'), a = a.replace(/\n/g, '<;br/>;'), a = a.replace(/\[em_([0-9]*)\]/g, '<img src="/face/$1.gif" border="0" />') }, biaoqing: function (a) { return a = a.replace(/\</g, '&lt;'), a = a.replace(/\>/g, '&gt;'), a = a.replace(/\n/g, '<br/>'), a = a.replace(/\[em_([0-9]*)\]/g, '<img src="/face/$1.gif" border="0" />') }, init: function () { this.socket = io.connect('ws://localhost:3000'), this.socket.on('check_message', function (b) { var c = b.sendtime.substring(b.sendtime.indexOf('日') + 1, b.sendtime.length); if (b.level == 66) { var d = '<img width="30" class="Role Manager2" src="/images/' + b.level + '.png">', e = '<a><label class="adminlist">' + b.username + '</label>：</a>'; b.sendto != 'all' && (e += '<img src="/images/r-middle-pic03.png"/><a>' + b.sendtoname + '</a>'); var f = '分析师', g = '', h = a.createElement('div'); h.className = 'direct-chat-info clearfix'; var i = a.createElement('div'); i.className = 'direct-chat-info clearfix'; var j = a.createElement('p'); j.className = 'direct-chat-name pull-right', $(j).html(f), g = b.type == 'flower' ? '<img class="Picture" src="/images/xh.gif"/>' : CHAT.biaoqing(b.content); var k = a.createElement('li'); k.className = 'user direct-chat-text', $(k).html(c + d + e + g), i.appendChild(j), h.appendChild(i), h.appendChild(k), a.getElementById('message').appendChild(h) } else if (b.level != 66) { var d = '<img width="30" class="Role Manager2" src="/images/' + b.level + '.png">', e = '<a><label class="usernlist">' + b.username + '</label>：</a>', g = '', f = '客户归属：' + b.ubelong, h = a.createElement('div'); h.className = 'direct-chat-info clearfix'; var i = a.createElement('div'); i.className = 'direct-chat-info clearfix'; var j = a.createElement('p'); j.className = 'direct-chat-name pull-right', $(j).html(f), g = b.type == 'flower' ? '<img class="Picture" src="/images/xh.gif"/>' : CHAT.biaoqing(b.content); var k = a.createElement('li'); k.className = 'user direct-chat-text', $(k).html(c + d + e + g), i.appendChild(j), h.appendChild(i), h.appendChild(k), a.getElementById('message').appendChild(i), a.getElementById('message').appendChild(k) } }) }} }())
